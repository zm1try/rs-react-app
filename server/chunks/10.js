exports.id=10,exports.ids=[10],exports.modules={119:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var s=r(687),n=r(3210),a=r(3726),o=r(6188);function i(){let{theme:e,toggleTheme:t}=(0,o.W)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:`theme-switcher flex-text ${e===a.P.DARK?"dark":"light"}`,children:[(0,s.jsxs)("label",{htmlFor:"dark",children:["dark",(0,s.jsx)("input",{type:"radio",id:"dark",name:"dark",value:e,checked:e===a.P.DARK,onChange:t})]}),(0,s.jsxs)("label",{htmlFor:"light",children:["light",(0,s.jsx)("input",{type:"radio",id:"light",name:"light",value:e,checked:e===a.P.LIGHT,onChange:t})]})]})})}var l=r(6189);let c=function(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[r,a]=(0,n.useState)(""),[o,c]=(0,n.useState)(r),d=e=>{c(e||"")};return(0,s.jsxs)("div",{className:"search-container",children:[(0,s.jsxs)("form",{title:"form",className:"search-form",onSubmit:r=>{r.preventDefault();let s=o?.trim()||"";a(s);let n=new URLSearchParams(t.toString());s?n.set("search",s):n.delete("search"),n.set("page","1"),e.push(`?${n.toString()}`)},children:[(0,s.jsx)("input",{type:"search",value:o,onChange:e=>d(e.target.value),placeholder:"Enter something to search"}),(0,s.jsx)("button",{type:"submit",children:"Search"})]}),(0,s.jsx)(i,{})]})};var d=r(4864),h=r(4638),u=r(9158);let m=({character:e})=>{let[t,r]=(0,n.useState)(""),a=(0,d.wA)(),o=(0,d.d4)(e=>e.selectedCharacters.selected.includes(t));return(0,n.useEffect)(()=>{e&&r(e.url)},[e]),(0,s.jsx)("div",{children:(0,s.jsx)("label",{children:(0,s.jsx)("input",{type:"checkbox",checked:o,onChange:()=>{a((0,h.T1)(t)),a(o?(0,u.q$)(e.url):(0,u.B5)(e))}})})})},p=({character:e,onClick:t})=>{let{theme:r}=(0,o.W)();return(0,s.jsxs)("div",{className:`card ${r===a.P.DARK?"dark":"light"}`,children:[(0,s.jsx)(m,{character:e}),(0,s.jsx)("button",{className:"card-button",onClick:r=>t(r,e),children:(0,s.jsx)("p",{children:e.name})})]})};function x({characters:e,searchQuery:t,children:r}){let n=(0,l.useRouter)(),a=(0,l.useSearchParams)(),o=e=>{let t=e?.url.split("/").filter(Boolean).pop()||"";if(t){let e=new URLSearchParams(a.toString());e.set("page","1"),n.push(`/details/${t}?${e.toString()}`)}};return e?.length>0?(0,s.jsxs)("div",{"data-testid":"results-container",className:"results-container",children:[(0,s.jsx)("div",{className:"results-list",children:e.map(e=>(0,s.jsx)("div",{className:"results-list__item",children:(0,s.jsx)(p,{character:e,onClick:()=>o(e)})},e.name))}),r]}):e.length?null:(0,s.jsxs)("p",{children:["Nothing to show for search term: ",t]})}function v(){let[e,t]=(0,n.useState)(!1);if(e)throw Error();return(0,s.jsx)("button",{type:"button",onClick:()=>t(!0),children:"Trigger Error"})}let f=()=>{let e=(0,l.useRouter)(),{theme:t}=(0,o.W)(),r=(0,l.useSearchParams)(),n=r.get("page"),i=t=>{let s=new URLSearchParams(r.toString());Number(n)!==t&&(s.set("page",t.toString()),e.push(`?${s.toString()}`))};return(0,s.jsxs)("div",{className:`pagination-container flex-text ${t===a.P.DARK?"dark":"light"}`,children:[(0,s.jsx)("button",{onClick:()=>i(Number(n)-1),disabled:!n||1===Number(n),children:"Previous"}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["Page ",Number(n)||1]})}),(0,s.jsx)("button",{onClick:()=>i(Number(n)+1),children:"Next"})]})},j=({isPaginationVisible:e})=>(0,s.jsxs)("div",{className:"footer-actions",children:[e&&(0,s.jsx)(f,{}),(0,s.jsx)(v,{})]}),b=(e=[])=>{let t=e[0]?Object.keys(e[0]):[],r=e.map(e=>t.map(t=>{let r=e[t];return Array.isArray(r)?r.join(";"):`"${r}"`}).join(","));return[t.join(","),...r].join("\n")},g=()=>{let e=(0,d.wA)(),t=(0,d.d4)(e=>e.selectedCharacters.selected),r=(0,d.d4)(e=>e.savedItems.characters),{theme:n}=(0,o.W)();return(0,s.jsx)(s.Fragment,{children:t.length>0&&(0,s.jsxs)("div",{className:"flyout-panel",children:[(0,s.jsxs)("div",{className:`flex-text ${n===a.P.DARK?"dark":"light"}`,children:[t.length," items are selected"]}),(0,s.jsx)("button",{onClick:()=>{e((0,h.CQ)()),e((0,u.M3)())},children:"Unselect all"}),(0,s.jsx)("button",{onClick:()=>{let e=new Blob([b(r)],{type:"text/csv"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=`${r.length}_characters.csv`,t.click()},children:"Download"})]})})},P=({characterDetails:e=null})=>{let t=(0,l.useRouter)(),r=(0,l.useSearchParams)(),{theme:n}=(0,o.W)();return e&&(0,s.jsxs)("div",{className:`details-container flex-text ${n===a.P.DARK?"dark":"light"}`,children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{children:["Name: ",e.name]}),(0,s.jsxs)("p",{children:["Birth year: ",e.birth_year]})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=new URLSearchParams(r.toString());e.set("page","1"),t.push(`/?${e.toString()}`)},children:"Close"})]})},y=({characters:e,characterDetails:t=null,withDetails:r})=>{let{theme:n}=(0,o.W)();if(!e)return(0,s.jsx)("div",{children:"Not Found"});let i=e&&e.length>0;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:`flex-text ${n===a.P.DARK?"dark":"light"}`,children:"swApi search"}),(0,s.jsx)(c,{}),(0,s.jsx)(x,{characters:e||[],searchQuery:"",children:r&&(0,s.jsx)(P,{characterDetails:t})}),(0,s.jsx)(g,{}),(0,s.jsx)(j,{isPaginationVisible:!!i})]})}},323:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundary:()=>a});var s=r(687),n=r(3210);class a extends n.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error",e,t)}render(){return this.state.hasError?(0,s.jsx)("h2",{children:"Something went wrong"}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1,error:null}}}},397:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Dzmitry_Yarash\\\\WebstormProjects\\\\rs-react-app\\\\src\\\\app\\\\StoreProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Dzmitry_Yarash\\WebstormProjects\\rs-react-app\\src\\app\\StoreProvider.tsx","default")},621:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},724:(e,t,r)=>{Promise.resolve().then(r.bind(r,5480)),Promise.resolve().then(r.bind(r,323)),Promise.resolve().then(r.bind(r,9255))},1058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(7413);let n=()=>(0,s.jsx)("p",{className:"loading",children:"Loading..."});function a(){return(0,s.jsx)(n,{})}},3726:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var s=function(e){return e[e.DARK=0]="DARK",e[e.LIGHT=1]="LIGHT",e}({})},3924:(e,t,r)=>{Promise.resolve().then(r.bind(r,397)),Promise.resolve().then(r.bind(r,9089)),Promise.resolve().then(r.bind(r,7721))},4109:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Dzmitry_Yarash\\\\WebstormProjects\\\\rs-react-app\\\\src\\\\components\\\\MainLayout\\\\MainLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Dzmitry_Yarash\\WebstormProjects\\rs-react-app\\src\\components\\MainLayout\\MainLayout.tsx","default")},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(7413);r(5692);var n=r(397),a=r(9089),o=r(7721);let i={title:"My App",description:"A Next.js App Router example"};function l({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{children:(0,s.jsx)(n.default,{children:(0,s.jsx)(o.ThemeProvider,{children:(0,s.jsx)(a.ErrorBoundary,{children:(0,s.jsx)("main",{className:"main-container",children:e})})})})})})}},4638:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,CQ:()=>i,T1:()=>o});let s="SWITCH_SELECTION",n="UNSELECT_ALL",a={type:"",selected:[]},o=e=>({type:s,payload:e}),i=()=>({type:n}),l=function(e=a,t){switch(t.type){case s:{let r=e.selected.includes(t.payload||"")?e.selected.filter(e=>e!==t.payload):[...e.selected,t.payload];return{...e,selected:r}}case n:return{...e,selected:[]};default:return e}}},5480:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(687),n=r(3210),a=r(4864),o=r(9317),i=r(4638),l=r(9158);let c=()=>(0,o.U1)({reducer:{selectedCharacters:i.Ay,savedItems:l.Ay.reducer}});function d({children:e}){let[t]=(0,n.useState)(()=>c());return(0,s.jsx)(a.Kq,{store:t,children:e})}},5692:()=>{},6188:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,W:()=>o});var s=r(3210),n=r(3726);let a=(0,s.createContext)({theme:n.P.DARK,toggleTheme:()=>{}});function o(){if(!(0,s.useContext)(a))throw Error("useTheme must be used within a ThemeProvider");return(0,s.useContext)(a)}},6189:(e,t,r)=>{"use strict";var s=r(5773);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6487:()=>{},7721:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Dzmitry_Yarash\\WebstormProjects\\rs-react-app\\src\\context\\ThemeContext.tsx","ThemeProvider")},7885:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},8335:()=>{},9089:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundary:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call ErrorBoundary() from the server but ErrorBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Dzmitry_Yarash\\WebstormProjects\\rs-react-app\\src\\components\\ErrorBoundary\\ErrorBoundary.tsx","ErrorBoundary")},9158:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o,B5:()=>i,M3:()=>c,q$:()=>l});var s=r(9317);let n={characters:[]},a=(0,s.Z0)({name:"savedItems",initialState:n,reducers:{addItem:(e,t)=>{e.characters.push(t.payload)},removeItemByKey:(e,t)=>{e.characters=e.characters.filter(e=>e.url!==t.payload)},removeAllItems:e=>{e.characters=n.characters}}}),o=a,{addItem:i,removeItemByKey:l,removeAllItems:c}=a.actions},9183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(7413);let n=()=>(0,s.jsx)("p",{children:"Route doesnt exist"});function a(){return(0,s.jsx)(n,{})}},9255:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>i});var s=r(687),n=r(3210),a=r(3726),o=r(6188);function i({children:e}){let[t,r]=(0,n.useState)(a.P.DARK);return(0,s.jsx)(o.D.Provider,{value:{theme:t,toggleTheme:()=>{r(e=>e===a.P.DARK?a.P.LIGHT:a.P.DARK)}},children:e})}},9699:(e,t,r)=>{"use strict";async function s(e){let t=await fetch(e);if(!t.ok)throw Error(t.status.toString());return await t.json()}r.d(t,{U:()=>o});let n=async(e,t)=>{let r=new URLSearchParams([["search",e],["page",t.toString()],["offset",(t-1>0?10*t:0).toString()]]);return s(`https://swapi.dev/api/people/?${r.toString()}`)},a=async e=>s(`https://swapi.dev/api/people/${e}`),o={async fetchCharacters(e){let{results:t}=await n(e.searchQuery,e.page);return{characters:t||[]}},fetchCharacter:async e=>await a(e)||null}}};